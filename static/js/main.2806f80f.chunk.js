(this["webpackJsonpcommute-patterns"]=this["webpackJsonpcommute-patterns"]||[]).push([[0],{182:function(e,t,a){e.exports=a(367)},187:function(e,t,a){},189:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(47),l=a.n(o),c=(a(187),a(188),a(149)),u=a(132),i=a(133),s=a(150),m=a(134),d=a(48),h=a(151),p=a(370),f=a(152);a(189);var v=function(e){var t=e.data;return r.a.createElement("div",{className:"table-container"},r.a.createElement("h3",null,"Commute mode totals broken up by work county destination: "),r.a.createElement(p.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"County for Work"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Drove Alone"),r.a.createElement("th",null,"Carpooled"),r.a.createElement("th",null,"Taxi"),r.a.createElement("th",null,"Public Transit"),r.a.createElement("th",null,"Bicycle"),r.a.createElement("th",null,"Motorcycle"),r.a.createElement("th",null,"Worked at Home"),r.a.createElement("th",null,"Other"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:Object(f.a)(e)},r.a.createElement("td",null,e.work_geo_short),r.a.createElement("td",null,e.total),r.a.createElement("td",null,e.drove_alone),r.a.createElement("td",null,e.total_carpool),r.a.createElement("td",null,e.taxi),r.a.createElement("td",null,e.total_public_transit),r.a.createElement("td",null,e.bicycle),r.a.createElement("td",null,e.motorcycle),r.a.createElement("td",null,e.worked_at_home),r.a.createElement("td",null,e.other))})))))},E=a(52);a(365);var y=function(e){var t=e.data,a=t.reduce((function(e,t){return e+t.bicycle}),0),n=t.reduce((function(e,t){return e+t.total_public_transit}),0),o=t.reduce((function(e,t){return e+t.car_total}),0),l=a+n+o,c=Math.floor(a/l*100),u=Math.floor(o/l*100),i=[{name:"Bicyle",value:c},{name:"Car",value:Math.floor(n/l*100)},{name:"Public Transit",value:u}];return r.a.createElement("div",{className:"chart-container"},r.a.createElement("h3",null,"Percentage of different commute types for the selected county: "),r.a.createElement("div",{className:"chart"},r.a.createElement(E.b,{width:500,height:200},r.a.createElement(E.a,{dataKey:"value",data:i,cx:250,cy:100,outerRadius:80,fill:"#FFA500",label:function(e){return e.name}}),r.a.createElement(E.c,null))))},_=(a(366),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={data:[],isLoaded:!1,error:null,selectedCounty:"Alameda"},a.handleCountyChange=a.handleCountyChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://data.bayareametro.gov/resource/a3ij-q9vc.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,data:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"massageData",value:function(e){var t=this;this.listOfCounties=Object(c.a)(new Set(e.map((function(e){return e.res_geo_short})))).sort();var a=this.groupBy(e,(function(e){return e.res_geo_short}));return a.forEach((function(e){return t.convertStrings(e)})),a}},{key:"groupBy",value:function(e,t){var a=new Map;return e.forEach((function(e){var n=t(e),r=a.get(n);r?r.push(e):a.set(n,[e])})),a}},{key:"convertStrings",value:function(e){e.forEach((function(e){e.total=parseInt(e.total),e.drove_alone=parseInt(e.drove_alone),e.taxi=parseInt(e.taxi),e.total_carpool=parseInt(e._2_person_carpool)+parseInt(e._3_person_carpool)+parseInt(e._4_person_carpool)+parseInt(e._5_or_6_person_carpool)+parseInt(e._7_or_more_person_carpool),e.car_total=e.drove_alone+e.taxi+e.total_carpool,e.total_public_transit=parseInt(e.bus)+parseInt(e.streetcar_or_trolley)+parseInt(e.subway)+parseInt(e.railroad),e.bicycle=parseInt(e.bicycle),e.motorcycle=parseInt(e.motorcycle),e.worked_at_home=parseInt(e.worked_at_home)}))}},{key:"handleCountyChange",value:function(e){this.setState({selectedCounty:e.target.value})}},{key:"renderDataVisualizations",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.data,o=e.selectedCounty;if(t)return r.a.createElement("div",null,"Error in loading data");if(!a)return r.a.createElement("div",null,"Loading ...");var l=this.massageData(n).get(o);return r.a.createElement("div",{className:"data-container"},r.a.createElement("div",{className:"county-select"},r.a.createElement("p",null,"Commute patterns, more commonly referred to as county-to-county commute flows, reflect the number of individuals traveling within and between various counties for commuting purposes. This data comes from 2010 U.S. Census Transportation Planning Package and can be found ",r.a.createElement("a",{href:"https://data.bayareametro.gov/dataset/Vital-Signs-Commute-Patterns-Bay-Area/a3ij-q9vc/data"},"here"),"."),r.a.createElement("label",{className:"select-label",htmlFor:"countySelector"},"Select which county of residence you want to view data for: "),r.a.createElement("select",{id:"countySelector",onChange:this.handleCountyChange,value:o},this.listOfCounties.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(v,{data:l}),r.a.createElement(y,{data:l}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app container"},r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-content"},r.a.createElement("h1",null,"Bay Area Commute Patterns"),r.a.createElement("h2",null,"Detailing how and where people commute in the Bay Area"))),this.renderDataVisualizations())}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[182,1,2]]]);
//# sourceMappingURL=main.2806f80f.chunk.js.map